# å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸš€ ä¸€é”®éƒ¨ç½²

æ‰€æœ‰éƒ¨ç½²è„šæœ¬å·²ä¼˜åŒ–ä¸º**å®Œå…¨è‡ªåŠ¨åŒ–ã€éäº¤äº’å¼**ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
# éƒ¨ç½²æ‰€æœ‰æœåŠ¡ï¼ˆé»˜è®¤ï¼‰
bash deploy-all.sh

# æˆ–æŒ‡å®šæ¨¡å¼
bash deploy-all.sh all          # å…¨éƒ¨éƒ¨ç½²
bash deploy-all.sh backend      # ä»…åç«¯
bash deploy-all.sh admin        # ä»…ç®¡ç†åå°
bash deploy-all.sh frontend     # ä»…å‰ç«¯
```

### æ•°å­—æ¨¡å¼ï¼ˆå…¼å®¹æ—§ç‰ˆï¼‰

```bash
bash deploy-all.sh 1  # å…¨éƒ¨éƒ¨ç½²
bash deploy-all.sh 2  # ä»…åç«¯
bash deploy-all.sh 3  # ä»…ç®¡ç†åå°
bash deploy-all.sh 4  # ä»…å‰ç«¯
```

## ğŸ“‹ éƒ¨ç½²æµç¨‹

### 1. åç«¯éƒ¨ç½²

```bash
cd backend
bash deploy.sh
```

**è‡ªåŠ¨æ‰§è¡Œ**:
- âœ… å®‰è£…ä¾èµ–
- âœ… æ•°æ®åº“è¿ç§»ï¼ˆè‡ªåŠ¨è·³è¿‡å·²åº”ç”¨çš„è¿ç§»ï¼‰
- âœ… éƒ¨ç½²åˆ° Cloudflare Workers
- âœ… å¥åº·æ£€æŸ¥éªŒè¯

**é…ç½®å·²ç”Ÿæ•ˆ**:
- Cerebras Qwen 3 235B ä½œä¸ºé»˜è®¤ LLM
- API ç«¯ç‚¹: `https://api.cerebras.ai/v1`
- å››çº§å®¹é”™ç­–ç•¥å·²å¯ç”¨

### 2. ç®¡ç†åå°éƒ¨ç½²

```bash
cd admin
bash deploy.sh
```

**è‡ªåŠ¨æ‰§è¡Œ**:
- âœ… ç›´æ¥éƒ¨ç½²åˆ° Cloudflare Pagesï¼ˆæ— éœ€æ„å»ºï¼‰
- âœ… ä½¿ç”¨ config.json ä¸­çš„ API URL

### 3. å‰ç«¯éƒ¨ç½²

```bash
cd frontend
bash deploy.sh
```

**è‡ªåŠ¨æ‰§è¡Œ**:
- âœ… å®‰è£…ä¾èµ–
- âœ… Next.js é™æ€æ„å»º
- âœ… éƒ¨ç½²åˆ° Cloudflare Pages

## ğŸ” å¸¸è§è¾“å‡ºè¯´æ˜

### æ•°æ®åº“è¿ç§»è¾“å‡º

**æ­£å¸¸è¾“å‡º**:
```
ğŸš€ å¼€å§‹æ•°æ®åº“è¿ç§»...
â­ï¸  0001_create_initial_tables.sql (å·²åº”ç”¨)
â­ï¸  0002_fearless_sprite.sql (å·²åº”ç”¨)
âœ… 0003_add_source_visibility.sql
âœ… 0004_add_rss_content_caching.sql

ğŸ“Š è¿ç§»ç»Ÿè®¡:
   æ–°æ‰§è¡Œ: 2
   å·²è·³è¿‡: 2
âœ… æ•°æ®åº“è¿ç§»å®Œæˆï¼
```

- **â­ï¸** = å·²åº”ç”¨è¿‡çš„è¿ç§»ï¼ˆè·³è¿‡ï¼‰
- **âœ…** = æ–°æ‰§è¡Œçš„è¿ç§»
- **âŒ** = æ‰§è¡Œå¤±è´¥ï¼ˆä»…æ˜¾ç¤ºçœŸæ­£çš„é”™è¯¯ï¼‰

### éƒ¨ç½²æˆåŠŸæ ‡å¿—

**åç«¯**:
```
âœ… åç«¯éƒ¨ç½²æˆåŠŸï¼å¥åº·æ£€æŸ¥é€šè¿‡
ğŸŒ API åœ°å€: https://moxiang-distill.masiqi.workers.dev
```

**ç®¡ç†åå°**:
```
âœ… ç®¡ç†åå°éƒ¨ç½²æˆåŠŸï¼
ğŸŒ è®¿é—®åœ°å€: https://moxiang-distill-admin.pages.dev
```

**å‰ç«¯**:
```
âœ… å‰ç«¯éƒ¨ç½²æˆåŠŸï¼
ğŸŒ è®¿é—®åœ°å€: https://moxiang-distill-frontend.pages.dev
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### éƒ¨ç½²å¤±è´¥

1. **æ£€æŸ¥ç™»å½•çŠ¶æ€**:
   ```bash
   npx wrangler whoami
   ```

2. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**:
   ```bash
   npx wrangler tail moxiang-distill
   ```

3. **é‡æ–°éƒ¨ç½²**:
   ```bash
   bash deploy-all.sh backend  # å•ç‹¬é‡è¯•åç«¯
   ```

### æ•°æ®åº“è¿ç§»é—®é¢˜

å¦‚æœè¿ç§»å®Œå…¨å¤±è´¥ï¼ˆä¸æ˜¯"å·²åº”ç”¨"é”™è¯¯ï¼‰ï¼Œæ‰‹åŠ¨è¿è¡Œï¼š

```bash
cd backend
bash migrate-db.sh
```

æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯ã€‚

### Cerebras API æµ‹è¯•

éƒ¨ç½²åæµ‹è¯• Cerebras é…ç½®ï¼š

```bash
# æŸ¥çœ‹ç¯å¢ƒå˜é‡
npx wrangler tail moxiang-distill | grep CEREBRAS

# è§¦å‘ä¸€æ¬¡å†…å®¹å¤„ç†ï¼Œè§‚å¯Ÿæ—¥å¿—
# åº”è¯¥çœ‹åˆ° "Cerebras Qwen 3 235B" çš„è°ƒç”¨
```

## ğŸ“Š éƒ¨ç½²æ—¶é—´å‚è€ƒ

| æœåŠ¡ | é¢„è®¡æ—¶é—´ |
|------|---------|
| åç«¯ | ~10-15ç§’ |
| ç®¡ç†åå° | ~5ç§’ |
| å‰ç«¯ | ~30-40ç§’ï¼ˆå«æ„å»ºï¼‰ |
| **æ€»è®¡** | **~1åˆ†é’Ÿ** |

## ğŸ¯ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²åéªŒè¯ï¼š

- [ ] åç«¯å¥åº·æ£€æŸ¥: `curl https://moxiang-distill.masiqi.workers.dev/api/health`
- [ ] ç®¡ç†åå°å¯è®¿é—®: https://moxiang-distill-admin.pages.dev
- [ ] å‰ç«¯å¯è®¿é—®: https://moxiang-distill-frontend.pages.dev
- [ ] Cerebras é…ç½®å·²åŠ è½½ï¼ˆæŸ¥çœ‹åç«¯æ—¥å¿—ï¼‰
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸

## ğŸ’¡ å°è´´å£«

1. **é¦–æ¬¡éƒ¨ç½²**: åŸŸåç”Ÿæ•ˆå¯èƒ½éœ€è¦ 2-5 åˆ†é’Ÿ
2. **é¢‘ç¹éƒ¨ç½²**: Cloudflare æœ‰ç¼“å­˜ï¼Œå¯èƒ½çœ‹ä¸åˆ°å³æ—¶æ›´æ–°
3. **æ¸…é™¤ç¼“å­˜**: åœ¨ Cloudflare Dashboard æ¸…é™¤
4. **è‡ªå®šä¹‰åŸŸå**: åœ¨ Cloudflare Pages è®¾ç½®ä¸­ç»‘å®š

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **Cerebras é…ç½®**: `CEREBRAS_SETUP.md`
- **å®Œæ•´éƒ¨ç½²æŒ‡å—**: `DEPLOYMENT.md`
- **é…ç½®æ‘˜è¦**: `CEREBRAS_CONFIG_SUMMARY.md`
