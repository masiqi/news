import { __values } from 'tslib';

function convertTitle(chartTitle) {
    var e_1, _a, e_2, _b;
    var _c, _d;
    var title = {
        top: 0,
        right: 'center',
        text: ''
    };
    if (chartTitle) {
        try {
            // 这里竟然是富文本，所以先只提取 t
            for (var _e = __values(((_d = (_c = chartTitle.tx) === null || _c === void 0 ? void 0 : _c.rich) === null || _d === void 0 ? void 0 : _d.p) || []), _f = _e.next(); !_f.done; _f = _e.next()) {
                var p = _f.value;
                try {
                    for (var _g = (e_2 = void 0, __values(p.r || [])), _h = _g.next(); !_h.done; _h = _g.next()) {
                        var r = _h.value;
                        title.text += r.t || '';
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
            }
            finally { if (e_1) throw e_1.error; }
        }
        if (chartTitle.layout) {
            // 没试过
            var manualLayout = chartTitle.layout.manualLayout;
            if (manualLayout) {
                if (manualLayout.x) {
                    title.left = manualLayout.x.val;
                }
                if (manualLayout.y) {
                    title.top = manualLayout.y.val;
                }
            }
        }
    }
    return title;
}

export { convertTitle };
