'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * 中英文间自动加空格，基于下面代码改的，去掉了 lodash 依赖
 * https://gist.github.com/wyl8899/e0f31068681023480e20c34f6b19a275
 */
/* Partial implementation from https://zhuanlan.zhihu.com/p/33612593 */
/* 标点 */
var punctuationRegex = /\p{Punctuation}/u;
/* 空格 */
var spaceRegex = /\p{Separator}/u;
/* CJK 字符，中日韩 */
var cjkRegex = /\p{Script=Han}|\p{Script=Katakana}|\p{Script=Hiragana}|\p{Script=Hangul}/u;
var shouldSpace = function (a, b) {
    if (cjkRegex.test(a)) {
        return !(punctuationRegex.test(b) ||
            spaceRegex.test(b) ||
            cjkRegex.test(b));
    }
    else {
        return cjkRegex.test(b) && !punctuationRegex.test(a) && !spaceRegex.test(a);
    }
};
var join = function (parts, sepFunc) {
    return parts.reduce(function (r, p, i) {
        var sep = i !== 0 ? sepFunc(p, parts[i - 1]) : '';
        return r + sep + p;
    }, '');
};
var cjkspace = function (strings) {
    var filtered = strings.filter(function (c) { return c !== undefined && c !== ''; });
    return join(filtered, function (a, b) { return (shouldSpace(a, b) ? ' ' : ''); });
};

exports.cjkspace = cjkspace;
