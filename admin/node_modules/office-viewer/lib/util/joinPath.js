'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * 合并多个路径，来自
 * https://stackoverflow.com/questions/29855098/is-there-a-built-in-javascript-function-similar-to-os-path-join
 * 目前都是当成目录，所以如果是文件需要加上 ..
 */
function joinPath() {
    var input = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        input[_i] = arguments[_i];
    }
    var paths = input
        .filter(function (path) { return !!path; }) // Remove undefined | null | empty
        .join('/') //Join to string
        .replaceAll('\\', '/') // Replace from \ to /
        .split('/')
        .filter(function (path) { return !!path && path !== '.'; }) // Remove empty in case a//b///c or ./a ./b
        .reduce(function (items, item) {
        item === '..' ? items.pop() : items.push(item);
        return items;
    }, []);
    if (input[0] && input[0].startsWith('/')) {
        paths.unshift('');
    }
    return paths.join('/') || (paths.length ? '/' : '.');
}

exports.joinPath = joinPath;
