'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var tslib = require('tslib');
var isFontAvailable = require('../../../util/isFontAvailable.js');

var FontAvailableCache = new Map();
/**
 * 检查字体是否存在，这里主要是为了加缓存和 warning
 */
function checkFont(font) {
    if (FontAvailableCache.has(font)) {
        return FontAvailableCache.get(font);
    }
    var result = isFontAvailable.isFontAvailable(font);
    FontAvailableCache.set(font, result);
    return result;
}
/**
 * 获取所有不可用的字体
 */
function getAllNotAvailableFont() {
    return Array.from(FontAvailableCache.entries())
        .filter(function (_a) {
        var _b = tslib.__read(_a, 2); _b[0]; var v = _b[1];
        return v === false;
    })
        .map(function (_a) {
        var _b = tslib.__read(_a, 1), k = _b[0];
        return k;
    });
}

exports.checkFont = checkFont;
exports.getAllNotAvailableFont = getAllNotAvailableFont;
