'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var tslib = require('tslib');

/**
 * 获取配置中的过滤值，目前子支持 val 的情况
 */
function setFilterValues(autoFilter, colIndex, options) {
    var e_1, _a;
    var _b;
    var allChecked = options.every(function (option) { return option.checked; });
    var filterColumn = (_b = autoFilter.filterColumn) === null || _b === void 0 ? void 0 : _b.find(function (column) { return column.colId === colIndex; });
    var filters = [];
    try {
        for (var options_1 = tslib.__values(options), options_1_1 = options_1.next(); !options_1_1.done; options_1_1 = options_1.next()) {
            var option = options_1_1.value;
            if (option.checked) {
                filters.push({ val: option.value });
            }
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (options_1_1 && !options_1_1.done && (_a = options_1.return)) _a.call(options_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    if (filterColumn) {
        if (allChecked) {
            filterColumn.filters = undefined;
            return;
        }
        filterColumn.filters = { filter: filters };
    }
    else {
        if (!allChecked) {
            autoFilter.filterColumn = autoFilter.filterColumn || [];
            autoFilter.filterColumn.push({
                colId: colIndex,
                filters: { filter: filters }
            });
        }
    }
}

exports.setFilterValues = setFilterValues;
