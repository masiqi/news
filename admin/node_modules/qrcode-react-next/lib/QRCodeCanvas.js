"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const g=require("react"),u=require("./hooks/useQrCode.js");function w({ctx:i,bgColor:e="#fff",logo:r}){const{src:l,width:t,height:n,x:s,y:h,bg:o}=r||{};if(!l)return;const a=new Image;a.src=l,a.onload=()=>{i.fillStyle=e,i.fillRect(o.x,o.y,o.width,o.height);const c=a.width/a.height;let f=t,d=n;c>1?d=t/c:f=n*c,i.drawImage(a,s+(t-f)/2,h+(n-d)/2,f,d)}}function y(i){const{ctx:e,path:r,styleConfig:l}=i,{color:t="#000",bgColor:n="#fff",eyeBorderColor:s,eyeInnerColor:h}=l||{};e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=n,e.fillRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=s||t,e.fill(new Path2D(r.eyeBorder)),e.fillStyle=h||t,e.fill(new Path2D(r.eyeInner)),e.fillStyle=t,e.fill(new Path2D(r.points))}function v(i){const{value:e,config:r,styleConfig:l,logoConfig:t,className:n}=i,{size:s=200,bgColor:h}=l||{},{path:o,logo:a}=u.default({config:r,styleConfig:l,logoConfig:t,value:e}),c=g.useRef(null);return g.useEffect(()=>{if(o&&c.current){const f=c.current.getContext("2d");y({ctx:f,path:o,styleConfig:l}),a&&w({ctx:f,bgColor:h,logo:a})}},[o,t,l]),g.createElement("canvas",{width:s,height:s,ref:c,className:"qr-container qr-canvas"+(n?` ${n}`:"")})}exports.default=v;
