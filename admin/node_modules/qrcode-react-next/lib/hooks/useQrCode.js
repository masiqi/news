"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("react"),m=require("../utils/helper.js");function P(M){const{config:f,styleConfig:p,logoConfig:h,value:y}=M,{size:r=200,margin:o=0,eyeType:x,eyeBorderSize:v,pointType:C,pointSize:R,pointSizeRandom:S}=p||{},e=s.useMemo(()=>m.generateQRCode(y,f),[y,f]),u=s.useMemo(()=>m.toFixedNumber((r-o*2)/e.length),[e,r,o]),T=s.useMemo(()=>{let t=[];for(let n=0;n<e.length;n++){t.push([]);for(let i=0;i<e.length;i++)S?t[n].push(Math.random()<.5?1:.8):t[n].push(1)}return t},[e,S]),_=s.useMemo(()=>m.generatePath({modules:e,margin:o,size:r,dotSize:u,eyeType:x,eyeBorderSize:v,pointType:C,pointSize:R,customSize:T}),[e,u,p]);return{logo:s.useMemo(()=>{if(!h)return;let t=r-o*2,{src:n,width:i=t/5,height:a=t/5,x:l=t/2-i/2+o,y:c=t/2-a/2+o}=h||{};const j=e.length,g=Array.from({length:j},(d,I)=>I*u+o),b=g[g.findIndex(d=>d>l)-2]-.5||l,z=g[g.findIndex(d=>d>c)-2]-.5||c,q=i+(l-b)*2,w=a+(c-z)*2;return{src:n,width:i,height:a,x:l,y:c,bg:{x:b,y:z,width:q,height:w}}},[e,u,o,h]),path:_}}exports.default=P;
